<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ECOIST BF 5000: 日本市場向け</title>
    <!-- Tailwind CSS CDN을 로드합니다. -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap');
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #f7f9fb;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- 메인 컨테이너 -->
    <div class="container mx-auto p-4 md:p-8 max-w-7xl">

        <!-- 헤더 및 타이틀 섹션 -->
        <header class="bg-white rounded-2xl shadow-lg p-6 md:p-10 mb-8 text-center">
            <h1 class="text-3xl md:text-5xl font-bold text-green-700 mb-2">
                ECOIST BF 5000
            </h1>
            <h2 class="text-xl md:text-2xl text-gray-600">
                日本の持続可能な農業と包装の未来を拓く
            </h2>
            <!-- 로고 플레이스홀더 -->
            <div class="mt-6 flex justify-center">
                <div class="w-40 h-10 bg-gray-200 rounded-lg flex items-center justify-center text-gray-500">
                    ロゴ
                </div>
            </div>
        </header>

        <!-- 제품 소개 섹션 -->
        <section class="bg-white rounded-2xl shadow-lg p-6 md:p-10 mb-8">
            <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center">ECOIST BF 5000を選ぶ理由</h3>
            <div class="grid md:grid-cols-2 gap-8">
                <!-- 환경적 이점 카드 -->
                <div class="bg-gray-50 p-6 rounded-xl shadow-inner">
                    <div class="flex items-center mb-4">
                        <span class="text-3xl mr-3 text-green-600">🌿</span>
                        <h4 class="text-xl font-semibold">環境への貢献</h4>
                    </div>
                    <ul class="list-none space-y-2 text-gray-600">
                        <li>純粋プラスチック使用量を最大$70\%$削減</li>
                        <li>温室効果ガス（GHG）排出量を最大$65\%$削減</li>
                        <li>CO2排出量を大幅削減（LCAデータに基づく）</li>
                    </ul>
                    <!-- 그래프 이미지 플레이스홀더 -->
                    <div class="mt-4 bg-gray-200 h-40 rounded-lg flex items-center justify-center text-gray-500 text-sm">
                        온실가스 절감 효과 그래프
                    </div>
                </div>

                <!-- 성능 및 경제적 이점 카드 -->
                <div class="bg-gray-50 p-6 rounded-xl shadow-inner">
                    <div class="flex items-center mb-4">
                        <span class="text-3xl mr-3 text-blue-600">⚙️</span>
                        <h4 class="text-xl font-semibold">優れた性能と経済性</h4>
                    </div>
                    <ul class="list-none space-y-2 text-gray-600">
                        <li>静電気ゼロ、作業効率の向上</li>
                        <li>既存の生産設備にそのまま適用可能（追加投資不要）</li>
                        <li>キャッサバ由来の価格競争力</li>
                        <li>日本の2025年規制に対応</li>
                    </ul>
                    <!-- 정전기 방지 도표 플레이스홀더 -->
                    <div class="mt-4 bg-gray-200 h-40 rounded-lg flex items-center justify-center text-gray-500 text-sm">
                        정전기 방지 기능 시연 도표
                    </div>
                </div>
            </div>
        </section>

        <!-- 제품 사양 및 물성 데이터 섹션 -->
        <section class="bg-white rounded-2xl shadow-lg p-6 md:p-10 mb-8">
            <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center">製品仕様と物性データ</h3>
            <div class="overflow-x-auto rounded-lg shadow-sm">
                <table class="min-w-full divide-y divide-gray-200">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">測定項目</th>
                            <th class="px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">単位</th>
                            <th class="px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">ECOIST BF 5000</th>
                            <th class="px-4 py-3 text-left text-sm font-medium text-gray-500 uppercase tracking-wider">汎用PE</th>
                        </tr>
                    </thead>
                    <tbody class="bg-white divide-y divide-gray-200">
                        <tr>
                            <td class="px-4 py-3 whitespace-nowrap font-medium text-gray-900">引張強度</td>
                            <td class="px-4 py-3 whitespace-nowrap">MPa</td>
                            <td class="px-4 py-3 whitespace-nowrap">25</td>
                            <td class="px-4 py-3 whitespace-nowrap">15</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-3 whitespace-nowrap font-medium text-gray-900">引裂強度</td>
                            <td class="px-4 py-3 whitespace-nowrap">N/mm</td>
                            <td class="px-4 py-3 whitespace-nowrap">60</td>
                            <td class="px-4 py-3 whitespace-nowrap">45</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-3 whitespace-nowrap font-medium text-gray-900">密度</td>
                            <td class="px-4 py-3 whitespace-nowrap">g/cm3</td>
                            <td class="px-4 py-3 whitespace-nowrap">1.30</td>
                            <td class="px-4 py-3 whitespace-nowrap">0.92</td>
                        </tr>
                        <tr>
                            <td class="px-4 py-3 whitespace-nowrap font-medium text-gray-900">メルトフローレート</td>
                            <td class="px-4 py-3 whitespace-nowrap">g/10min</td>
                            <td class="px-4 py-3 whitespace-nowrap">10</td>
                            <td class="px-4 py-3 whitespace-nowrap">10</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p class="text-sm text-gray-500 mt-4 text-center">
                ※上記データは参考値です。詳細な物性データは別途お問い合わせください。
            </p>
        </section>
        
        <!-- 회사 정보 및 인증 섹션 -->
        <section class="bg-white rounded-2xl shadow-lg p-6 md:p-10 mb-8">
            <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center">信頼の品質保証</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- 인증 및 수상 내역 -->
                <div class="p-4 rounded-lg bg-gray-50">
                    <h4 class="text-lg font-semibold mb-3">主な認証・受賞歴</h4>
                    <ul class="list-disc list-inside space-y-2 text-gray-600">
                        <li>緑色技術認証書</li>
                        <li>TÜV OK Compost INDUSTRIAL 認証</li>
                        <li>ISO 14001, ISO 50001</li>
                        <li>バイオプラスチック素材関連特許 8件</li>
                        <li>CES 2024 Innovation Award 受賞</li>
                    </ul>
                </div>
                <!-- 회사 개요 -->
                <div class="p-4 rounded-lg bg-gray-50">
                    <h4 class="text-lg font-semibold mb-3">会社概要</h4>
                    <ul class="list-none space-y-2 text-gray-600">
                        <li>**会社名**: グリーンウェールグローバル株式会社</li>
                        <li>**設立**: 2019年3月18日</li>
                        <li>**本社**: ソウル市江南区</li>
                        <li>**工場**: ベトナムビンズン省（年間生産能力：6,000トン以上）</li>
                    </ul>
                </div>
            </div>
            <!-- 베트남 공장 이미지 플레이스홀더 -->
            <div class="mt-8 bg-gray-200 h-60 rounded-lg flex items-center justify-center text-gray-500 text-sm">
                그린웨일 글로벌 베트남 공장 이미지
            </div>
        </section>

        <!-- Gemini API를 활용한 문의 메일 초안 작성 섹션 -->
        <section class="bg-white rounded-2xl shadow-lg p-6 md:p-10 mb-8">
            <h3 class="text-2xl md:text-3xl font-bold mb-6 text-center">お問い合わせメール作成支援 ✨</h3>
            <div class="space-y-4">
                <div>
                    <label for="contactName" class="block text-sm font-medium text-gray-700">お名前</label>
                    <input type="text" id="contactName" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500" placeholder="お名前を入力してください">
                </div>
                <div>
                    <label for="companyName" class="block text-sm font-medium text-gray-700">貴社名</label>
                    <input type="text" id="companyName" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500" placeholder="貴社名を入力してください">
                </div>
                <div>
                    <label for="applicationDetails" class="block text-sm font-medium text-gray-700">製品の用途やご要望</label>
                    <textarea id="applicationDetails" rows="4" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-green-500 focus:ring-green-500" placeholder="例: 農業用マルチフィルムとして検討しています。サンプル提供や詳細な技術資料を希望します。"></textarea>
                </div>
                <button id="generateEmailBtn" class="w-full py-3 px-6 bg-green-600 text-white font-bold rounded-xl shadow-md hover:bg-green-700 transition duration-300 flex items-center justify-center">
                    <span id="buttonText">お問い合わせメールの初案を作成する ✨</span>
                    <svg id="spinner" class="animate-spin -ml-1 mr-3 h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                    </svg>
                </button>
            </div>

            <div id="emailOutputSection" class="mt-8 hidden">
                <h4 class="text-xl font-bold mb-3">メール初案</h4>
                <div class="relative bg-gray-100 rounded-lg p-4 shadow-inner">
                    <pre id="emailOutput" class="whitespace-pre-wrap text-sm text-gray-700 font-mono"></pre>
                    <button id="copyButton" class="absolute top-2 right-2 bg-gray-300 text-gray-800 p-2 rounded-lg hover:bg-gray-400 transition duration-300 text-xs">コピー</button>
                </div>
            </div>
        </section>

        <!-- 연락처 섹션 -->
        <footer class="bg-green-700 text-white rounded-2xl p-6 md:p-10 text-center">
            <h3 class="text-2xl md:text-3xl font-bold mb-4">お問い合わせ先</h3>
            <p class="mb-2">お客様のニーズに合わせたカスタマイズも可能です。詳細についてはお問い合わせください。</p>
            <div class="mt-4">
                <!-- 연락처 정보 플레이스홀더 -->
                <p class="text-lg font-medium">グリーンウェールグローバル株式会社</p>
                <p class="text-sm">[住所、電話番号、メールアドレス、ウェブサイトなどの情報]</p>
            </div>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const generateEmailBtn = document.getElementById('generateEmailBtn');
            const contactNameInput = document.getElementById('contactName');
            const companyNameInput = document.getElementById('companyName');
            const applicationDetailsInput = document.getElementById('applicationDetails');
            const emailOutputSection = document.getElementById('emailOutputSection');
            const emailOutput = document.getElementById('emailOutput');
            const copyButton = document.getElementById('copyButton');
            const buttonText = document.getElementById('buttonText');
            const spinner = document.getElementById('spinner');

            generateEmailBtn.addEventListener('click', async () => {
                const name = contactNameInput.value;
                const company = companyNameInput.value;
                const details = applicationDetailsInput.value;

                if (!name || !company || !details) {
                    alert('お名前、貴社名、およびご要望をすべて入力してください。');
                    return;
                }

                buttonText.classList.add('hidden');
                spinner.classList.remove('hidden');
                generateEmailBtn.disabled = true;

                const prompt = `あなたはグリーンウェールグローバル株式会社のバイオプラスチック素材「ECOIST BF 5000」の営業担当者です。
                これから、お客様が提供した情報に基づいて、丁寧な日本語の製品お問い合わせメールの文章を作成してください。

                ---
                お客様の情報：
                ・お名前: ${name}
                ・貴社名: ${company}
                ・製品名: ECOIST BF 5000
                ・ご要望: ${details}
                ---

                メールの件名と本文を含めて作成してください。件名は簡潔かつ分かりやすく、本文は丁寧な言葉遣いで、お客様の具体的な要望に対応する内容にしてください。`

                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                let retries = 0;
                const maxRetries = 3;
                let delay = 1000; // 1 second

                while (retries < maxRetries) {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            if (response.status === 429) { // Too many requests
                                console.error('API rate limit exceeded. Retrying...');
                                await new Promise(resolve => setTimeout(resolve, delay));
                                delay *= 2; // Exponential backoff
                                retries++;
                                continue;
                            } else {
                                throw new Error(`API error: ${response.statusText}`);
                            }
                        }

                        const result = await response.json();
                        if (result.candidates && result.candidates.length > 0 &&
                            result.candidates[0].content && result.candidates[0].content.parts &&
                            result.candidates[0].content.parts.length > 0) {
                            const text = result.candidates[0].content.parts[0].text;
                            emailOutput.textContent = text;
                            emailOutputSection.classList.remove('hidden');
                        } else {
                            emailOutput.textContent = 'メールの生成中にエラーが発生しました。もう一度お試しください。';
                        }
                        break; // Exit the loop on success
                    } catch (error) {
                        console.error('Fetch error:', error);
                        if (retries < maxRetries - 1) {
                            console.error(`Retrying in ${delay / 1000} seconds...`);
                            await new Promise(resolve => setTimeout(resolve, delay));
                            delay *= 2; // Exponential backoff
                        } else {
                            emailOutput.textContent = 'メールの生成中にエラーが発生しました。ネットワーク接続を確認し、再度お試しください。';
                        }
                        retries++;
                    }
                }

                buttonText.classList.remove('hidden');
                spinner.classList.add('hidden');
                generateEmailBtn.disabled = false;
            });

            copyButton.addEventListener('click', () => {
                const textToCopy = emailOutput.textContent;
                navigator.clipboard.writeText(textToCopy).then(() => {
                    copyButton.textContent = 'コピーしました！';
                    setTimeout(() => {
                        copyButton.textContent = 'コピー';
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                });
            });
        });
    </script>
</body>
</html>
